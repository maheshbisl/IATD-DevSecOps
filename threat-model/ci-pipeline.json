{
  "version": "2.2.0",
  "summary": {
    "title": "CI/CD Pipeline",
    "owner": "Mahesh Bisl",
    "description": "CI/CD pipeline for DevSecOps labs",
    "id": 0
  },
  "detail": {
    "contributors": [],
    "diagrams": [
      {
        "id": 0,
        "title": "CI Pipeline",
        "diagramType": "STRIDE",
        "placeholder": "New STRIDE diagram description",
        "thumbnail": "./public/content/images/thumbnail.stride.jpg",
        "version": "2.2.0",
        "cells": [
          {
            "position": {
              "x": 408.9999999999993,
              "y": 40.00000000000057
            },
            "size": {
              "width": 240,
              "height": 270
            },
            "shape": "trust-boundary-box",
            "attrs": {
              "headerText": {
                "text": "SVC"
              }
            },
            "zIndex": -1,
            "id": "c6608c8c-fb74-442d-8038-2284aacdabde",
            "data": {
              "type": "tm.BoundaryBox",
              "name": "SVC",
              "description": "",
              "isTrustBoundary": true,
              "hasOpenThreats": false
            }
          },
          {
            "position": {
              "x": 694,
              "y": 480.00000000000273
            },
            "size": {
              "width": 410,
              "height": 150
            },
            "shape": "trust-boundary-box",
            "attrs": {
              "headerText": {
                "text": "Internal Instance"
              }
            },
            "zIndex": -1,
            "id": "346ac45f-9018-45e9-aa06-db93c85d0191",
            "data": {
              "type": "tm.BoundaryBox",
              "name": "Internal Instance",
              "description": "",
              "isTrustBoundary": true,
              "hasOpenThreats": false
            }
          },
          {
            "position": {
              "x": 50.25,
              "y": 180
            },
            "size": {
              "width": 110,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Developer"
              },
              "body": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "actor",
            "zIndex": 1,
            "id": "403d79cd-5c61-4540-bd31-d70081383661",
            "data": {
              "type": "tm.Actor",
              "name": "Developer",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "providesAuthentication": false,
              "threats": [
                {
                  "id": "b355ceed-cfa8-4789-8508-8334e80618c0",
                  "title": "Developer Commits secret to Git",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Spoofing",
                  "description": "A developer commits secrets to version control either accidentally or on purpose. An angry employee will read access to the repository finds the secret and proceeds to use them to steal end-user data",
                  "mitigation": "Vault\n\nAdhere to principle of \"Need to know\" and ensure that production secrets are not shared with individuals who don't have a need to know\n\nAdhere to the principle of \"Least privilege\" and ensure secrets only have the permission to the pipeline.",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 1,
                  "score": ""
                },
                {
                  "id": "048b7348-ddd2-4429-95f2-2eec2eb2740e",
                  "title": "Developer laptop stolen",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Spoofing",
                  "description": "A developers laptop is lost or stolen. The hard drive is not encrypted so the attacker is able to use a tool such as Konboot to bypass password authentication and have commit access to all the repositories and ssh access to all the systems the developer has access to.",
                  "mitigation": "Mitigations\nEnsure all company laptops are encrypted\nEnsure developers repository access follows the principle of least privilege and only has access to what they need to\nEnsure devices are using enterprise management software like Jamf, etc.\nEnsure all devices are attached to the domain\nEnsure all devices are running end point protection like Crowdstrike",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 2,
                  "score": ""
                },
                {
                  "id": "91edee85-e98b-4490-ba81-8b1896fd1a1c",
                  "title": "A developer commits AWS secrets",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Spoofing",
                  "description": "A developer commits AWS secrets to version control either accidentally or on purpose. An angry employee with read access to the repository finds the secrets and proceeds to use them to steal end-user data.",
                  "mitigation": "Use something like git-secrets in repositories to help detect, flag, and block merge requests which may contain secrets\nEnsure the company is using secure secret management techniques such as tools like Hashicorp Vault\nEnsure secrets are stored encrypted at rest\nAdhere to the principal of “Need to Know” and ensure that produciton secrets are not shared with individuals who don’t have a need to know\nAdhere to the principal of “Least Privilege” and ensure secrets only have the the permissions to fulfill their use case\nEnsure logging is enabled so that secret usage can be tracked to the system and/or user who acquired and used them\nEnable and use threat detection such as GuardDuty to detect anomolies in patterns of service operation\nEnsure version control system is only available on the corporate VPN",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 3,
                  "score": ""
                },
                {
                  "id": "62e80cf9-47b5-4758-bbcf-5c5606e1dbc6",
                  "title": "developer creates a benign looking and named, but yet malicious package ",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Spoofing",
                  "description": "A developer creates a benign looking and named, but yet malicious package and hosts it on a public GitHub repo. While working on a feature, the developer adds their malicious package into the project, backdooring the codebase.",
                  "mitigation": "Ensure all merge requests require review and approval from other engineers.\nCreate administrative policy that mandates packages must only come from company approved sources\nBuild and integrate tooling into CI pipelines as a technical control that reviews package files and identifies non-company sanctioned repositories; enforcing company policy\nEnable and use threat detection such as GuardDuty to detect anomolies in patterns of service operation",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 4,
                  "score": ""
                }
              ]
            }
          },
          {
            "position": {
              "x": 260,
              "y": 180
            },
            "size": {
              "width": 60,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Git Push"
              },
              "body": {
                "stroke": "#333333",
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "process",
            "zIndex": 2,
            "id": "68b25a94-8563-4f64-983e-4466c36b3bda",
            "data": {
              "type": "tm.Process",
              "name": "Git Push",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "handlesCardPayment": false,
              "handlesGoodsOrServices": false,
              "isWebApplication": false,
              "privilegeLevel": "",
              "threats": []
            }
          },
          {
            "shape": "trust-boundary-curve",
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Boundary",
              "name": "",
              "description": "",
              "isTrustBoundary": true,
              "hasOpenThreats": false
            },
            "id": "15a10052-539e-4c33-8b50-4ddfc526869c",
            "source": {
              "x": 110,
              "y": 70
            },
            "target": {
              "x": 90,
              "y": 390
            },
            "vertices": [
              {
                "x": 380,
                "y": 210
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Data Flow",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "4d2fab2f-7a33-494e-ad46-5c44128f493b",
            "source": {
              "x": 160,
              "y": 209
            },
            "target": {
              "cell": "68b25a94-8563-4f64-983e-4466c36b3bda"
            },
            "vertices": [
              {
                "x": 230,
                "y": 209
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Data Flow",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "cca3579e-3c7d-4205-8064-44bea4803e9a",
            "source": {
              "x": 320,
              "y": 205
            },
            "target": {
              "x": 470,
              "y": 210
            }
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Data Flow",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "473cc9e2-63e0-44a5-9cda-87679e48de54",
            "source": {
              "x": 503,
              "y": 180
            },
            "target": {
              "cell": "8ff4c2d1-1e54-4427-8017-fcbf019be5e1"
            }
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Data Flow",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "ab505662-5980-4f0b-89b8-b5cfc96a0737",
            "source": {
              "cell": "f8be14d6-e170-4919-a068-2846e5588305"
            },
            "target": {
              "cell": "8709b0bb-9321-4539-9971-4772f72b10cf"
            },
            "vertices": [
              {
                "x": 782,
                "y": 140
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Data Flow",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "f02ec998-7482-46ad-bee1-8a4e0cf4dcea",
            "source": {
              "x": 537,
              "y": 205
            },
            "target": {
              "cell": "f8be14d6-e170-4919-a068-2846e5588305"
            }
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Data Flow",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "0dd6c471-5230-4dc1-a814-e2fb5179b4d7",
            "source": {
              "cell": "f8be14d6-e170-4919-a068-2846e5588305"
            },
            "target": {
              "cell": "c983ba3b-4dc9-483f-8975-85c0fc9ce4f9"
            }
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Data Flow",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "219b0a5f-c576-4e1e-8f9a-fc52539e5747",
            "source": {
              "x": 944,
              "y": 205
            },
            "target": {
              "cell": "1848593a-1ab2-45cc-8e76-f02c0c269ee4"
            }
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Data Flow",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "87762b86-b199-4b95-87d6-6d7c6531eea0",
            "source": {
              "x": 567,
              "y": 390
            },
            "target": {
              "cell": "68904a5d-ef4c-4dd4-addc-a76526a33578"
            },
            "vertices": [
              {
                "x": 640,
                "y": 360
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "6ca61389-db7d-4590-a6ff-0532c82167fc",
            "labels": [
              ""
            ],
            "source": {
              "cell": "68904a5d-ef4c-4dd4-addc-a76526a33578"
            },
            "target": {
              "cell": "f8be14d6-e170-4919-a068-2846e5588305"
            }
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Data Flow",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "acaa350f-c518-4d21-8db3-b54ffff945cd",
            "source": {
              "x": 1074,
              "y": 218
            },
            "target": {
              "cell": "f54d37d2-2788-4c9d-b158-bc783f665ba2"
            }
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Data Flow",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "084b4ef4-fbee-405a-a8ed-19acd844e65b",
            "source": {
              "cell": "fcddcfb2-6cd2-4f2e-ab2e-79d6eb2e3bf7"
            },
            "target": {
              "cell": "c41371bd-c363-4bbe-b4a9-4db3ea143215"
            },
            "vertices": [
              {
                "x": 970,
                "y": 354
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Data Flow",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "a9cf9433-940b-426d-897e-c1e773963117",
            "source": {
              "x": 1045,
              "y": 335
            },
            "target": {
              "cell": "f54d37d2-2788-4c9d-b158-bc783f665ba2"
            },
            "vertices": [
              {
                "x": 1180,
                "y": 360
              }
            ]
          },
          {
            "shape": "trust-boundary-curve",
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Boundary",
              "name": "",
              "description": "",
              "isTrustBoundary": true,
              "hasOpenThreats": false
            },
            "id": "ce13b080-13ea-4673-8505-d0d3f8950c67",
            "source": {
              "x": 1330,
              "y": 50
            },
            "target": {
              "x": 1440,
              "y": 390
            },
            "vertices": [
              {
                "x": 1170,
                "y": 190
              },
              {
                "x": 1220,
                "y": 350
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Data Flow",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "ff8bf9fa-04b5-41bf-99c1-f83981e0c258",
            "source": {
              "x": 905,
              "y": -170
            },
            "target": {
              "cell": "c60c3ffe-8cc0-4734-96e1-10a97882d7b3"
            }
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Data Flow",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "3924471a-3fd4-490c-bad7-ca07d14c4e2c",
            "source": {
              "x": 894,
              "y": -50
            },
            "target": {
              "cell": "8709b0bb-9321-4539-9971-4772f72b10cf"
            }
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Data Flow",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "968e02f2-a904-4655-8985-90f42a2533fe",
            "source": {
              "cell": "c60c3ffe-8cc0-4734-96e1-10a97882d7b3"
            },
            "target": {
              "cell": "8ff4c2d1-1e54-4427-8017-fcbf019be5e1"
            },
            "vertices": [
              {
                "x": 507,
                "y": -77
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Data Flow",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "5b4b1a87-b05c-426c-84cf-be051c40712e",
            "source": {
              "x": 935,
              "y": -84
            },
            "target": {
              "cell": "f54d37d2-2788-4c9d-b158-bc783f665ba2"
            },
            "vertices": [
              {
                "x": 1190,
                "y": -84
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Data Flow",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "b9592ef3-c8fe-431e-ac8d-b28aeac49600",
            "source": {
              "cell": "f8be14d6-e170-4919-a068-2846e5588305"
            },
            "target": {
              "cell": "25b205c9-504e-4917-a144-8e36bec24142"
            },
            "vertices": [
              {
                "x": 774,
                "y": 280
              },
              {
                "x": 800,
                "y": 320
              },
              {
                "x": 800,
                "y": 340
              },
              {
                "x": 820,
                "y": 360
              }
            ]
          },
          {
            "shape": "flow",
            "attrs": {
              "line": {
                "stroke": "#333333",
                "targetMarker": {
                  "name": "block"
                },
                "sourceMarker": {
                  "name": ""
                },
                "strokeDasharray": null
              }
            },
            "width": 200,
            "height": 100,
            "zIndex": 10,
            "connector": "smooth",
            "data": {
              "type": "tm.Flow",
              "name": "Data Flow",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isBidirectional": false,
              "isEncrypted": false,
              "isPublicNetwork": false,
              "protocol": "",
              "threats": []
            },
            "id": "4ae54017-1a7b-49fd-be50-0b875c38e3ef",
            "source": {
              "cell": "f8be14d6-e170-4919-a068-2846e5588305"
            },
            "target": {
              "cell": "fcddcfb2-6cd2-4f2e-ab2e-79d6eb2e3bf7"
            }
          },
          {
            "position": {
              "x": 49,
              "y": 265
            },
            "size": {
              "width": 112.5,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Developer \nLocal Environment\nBoundary"
              }
            },
            "visible": true,
            "shape": "td-text-block",
            "zIndex": 11,
            "id": "2d1e7655-65cf-4506-907f-660a9e090fab",
            "data": {
              "type": "tm.Text",
              "name": "Developer \nLocal Environment\nBoundary",
              "hasOpenThreats": false
            }
          },
          {
            "position": {
              "x": 477,
              "y": 180
            },
            "size": {
              "width": 60,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Process\nCode \nPush"
              },
              "body": {
                "stroke": "#333333",
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "process",
            "zIndex": 12,
            "id": "7e1b63d4-e940-4aa8-b173-ca90e2c9e93a",
            "data": {
              "type": "tm.Process",
              "name": "Process\nCode \nPush",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "handlesCardPayment": false,
              "handlesGoodsOrServices": false,
              "isWebApplication": false,
              "privilegeLevel": "",
              "threats": []
            }
          },
          {
            "position": {
              "x": 447,
              "y": 88
            },
            "size": {
              "width": 120,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Git Repository"
              },
              "topLine": {
                "strokeWidth": 1.5,
                "strokeDasharray": null
              },
              "bottomLine": {
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "store",
            "zIndex": 13,
            "id": "8ff4c2d1-1e54-4427-8017-fcbf019be5e1",
            "data": {
              "type": "tm.Store",
              "name": "Git Repository",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isALog": false,
              "isEncrypted": false,
              "isSigned": false,
              "storesCredentials": false,
              "storesInventory": false,
              "threats": []
            }
          },
          {
            "position": {
              "x": 804.9999999999986,
              "y": 148
            },
            "size": {
              "width": 70,
              "height": 70
            },
            "attrs": {
              "text": {
                "text": "CI\nPipeline\nExecution"
              },
              "body": {
                "stroke": "#333333",
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "process",
            "zIndex": 14,
            "id": "f8be14d6-e170-4919-a068-2846e5588305",
            "data": {
              "type": "tm.Process",
              "name": "CI\nPipeline\nExecution",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "handlesCardPayment": false,
              "handlesGoodsOrServices": false,
              "isWebApplication": false,
              "privilegeLevel": "",
              "threats": []
            }
          },
          {
            "position": {
              "x": 719,
              "y": 48.00000000000054
            },
            "size": {
              "width": 120,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Pipeline\nArtefacts \nStore"
              },
              "topLine": {
                "strokeWidth": 1.5,
                "strokeDasharray": null
              },
              "bottomLine": {
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "store",
            "zIndex": 15,
            "id": "8709b0bb-9321-4539-9971-4772f72b10cf",
            "data": {
              "type": "tm.Store",
              "name": "Pipeline\nArtefacts \nStore",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isALog": false,
              "isEncrypted": false,
              "isSigned": false,
              "storesCredentials": false,
              "storesInventory": false,
              "threats": []
            }
          },
          {
            "position": {
              "x": 894,
              "y": 180
            },
            "size": {
              "width": 60,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Security\nGate"
              },
              "body": {
                "stroke": "#333333",
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "process",
            "zIndex": 16,
            "id": "c983ba3b-4dc9-483f-8975-85c0fc9ce4f9",
            "data": {
              "type": "tm.Process",
              "name": "Security\nGate",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "handlesCardPayment": false,
              "handlesGoodsOrServices": false,
              "isWebApplication": false,
              "privilegeLevel": "",
              "threats": []
            }
          },
          {
            "position": {
              "x": 1004,
              "y": 180
            },
            "size": {
              "width": 80,
              "height": 70
            },
            "attrs": {
              "text": {
                "text": "Build,\nSign and\npublish \nimage"
              },
              "body": {
                "stroke": "#333333",
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "process",
            "zIndex": 17,
            "id": "1848593a-1ab2-45cc-8e76-f02c0c269ee4",
            "data": {
              "type": "tm.Process",
              "name": "Build,\nSign and\npublish \nimage",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "handlesCardPayment": false,
              "handlesGoodsOrServices": false,
              "isWebApplication": false,
              "privilegeLevel": "",
              "threats": []
            }
          },
          {
            "position": {
              "x": 447,
              "y": 354
            },
            "size": {
              "width": 120,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Dependency\nRepository"
              },
              "topLine": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              },
              "bottomLine": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "store",
            "zIndex": 18,
            "id": "2bd2356d-f4e0-4598-bb79-d2ec59b7f2e9",
            "data": {
              "type": "tm.Store",
              "name": "Dependency\nRepository",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "isALog": false,
              "isEncrypted": false,
              "isSigned": false,
              "storesCredentials": false,
              "storesInventory": false,
              "threats": [
                {
                  "id": "95fe5042-e189-4c19-bef3-ab01493d51b8",
                  "title": "An popular opensource dependency used by the application gets compromised by an attacker. ",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Tampering",
                  "description": "An popular opensource dependency used by the application gets compromised by an attacker. The attacker implants bitcoin mining software into the dependency so that consuming applications will mine bitcoin for the attacker",
                  "mitigation": "Ensure automated dependency analysis is being performed on application dependencies to detect dependencies known to have been compromised\nEnsure lock files are being used so that builds repeatedly use the same version of a dependency until it is explicitly upgraded\nEnable and use threat detection such as GuardDuty to detect anomolies in patterns of service operation\nCreate administrative policy that mandates packages must only come from company approved sources\nBuild and integrate tooling into CI pipelines as a technical control that reviews package files and identifies non-company sanctioned repositories; enforcing company policy\nSubscribe the engineering team to security disclosure distro lists so that they may be alerted when supply chain attacks are discovered",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 6,
                  "score": ""
                }
              ]
            }
          },
          {
            "position": {
              "x": 679,
              "y": 185.0000000000003
            },
            "size": {
              "width": 100,
              "height": 110
            },
            "attrs": {
              "text": {
                "text": "Fetch\nDependencies"
              },
              "body": {
                "stroke": "#333333",
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "process",
            "zIndex": 19,
            "id": "68904a5d-ef4c-4dd4-addc-a76526a33578",
            "data": {
              "type": "tm.Process",
              "name": "Fetch\nDependencies",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "handlesCardPayment": false,
              "handlesGoodsOrServices": false,
              "isWebApplication": false,
              "privilegeLevel": "",
              "threats": []
            }
          },
          {
            "position": {
              "x": 1199,
              "y": 180
            },
            "size": {
              "width": 120,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Container\nRepository\nDockerhub"
              },
              "topLine": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              },
              "bottomLine": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "store",
            "zIndex": 20,
            "id": "f54d37d2-2788-4c9d-b158-bc783f665ba2",
            "data": {
              "type": "tm.Store",
              "name": "Container\nRepository\nDockerhub",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "isALog": false,
              "isEncrypted": false,
              "isSigned": false,
              "storesCredentials": false,
              "storesInventory": false,
              "threats": [
                {
                  "id": "8715d496-58e9-4d1d-b2be-0d28fe83cd14",
                  "title": " Container registry permissions are not well segmented ",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Information disclosure",
                  "description": "Developers are given access to the container registry so that they may publish POC / testing images or pull production images for debugging purposes. Container registry permissions are not well segmented and allow a developer to push images to the same registry that production images are pulled from. A developer proceeds to publish a backdoored image directly to the repository and tags as latest, knowing that it will get picked up as part of the next deploy.",
                  "mitigation": "Ensure logging is configured for the container registry so that all image pushes and pulls are captured\nDo not use the same container registry for developer testing / POC that is used for production image storage\nRestrict publish access to the production container registry to only the CI/CD system\nEnable and use threat detection such as GuardDuty to detect anomolies in patterns of service operation\nImplement image signing that will only allow the deployment of images that have been properly signed\nReview Google’s Binary Autnorization for Borg and consider adopting some of their controls",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 7,
                  "score": ""
                }
              ]
            }
          },
          {
            "position": {
              "x": 874.9999999999986,
              "y": 310
            },
            "size": {
              "width": 60,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "DAST"
              },
              "body": {
                "stroke": "#333333",
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "process",
            "zIndex": 21,
            "id": "fcddcfb2-6cd2-4f2e-ab2e-79d6eb2e3bf7",
            "data": {
              "type": "tm.Process",
              "name": "DAST",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "handlesCardPayment": false,
              "handlesGoodsOrServices": false,
              "isWebApplication": false,
              "privilegeLevel": "",
              "threats": []
            }
          },
          {
            "position": {
              "x": 985,
              "y": 310
            },
            "size": {
              "width": 60,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Deploy \nand \ntest"
              },
              "body": {
                "stroke": "#333333",
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "process",
            "zIndex": 22,
            "id": "c41371bd-c363-4bbe-b4a9-4db3ea143215",
            "data": {
              "type": "tm.Process",
              "name": "Deploy \nand \ntest",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "handlesCardPayment": false,
              "handlesGoodsOrServices": false,
              "isWebApplication": false,
              "privilegeLevel": "",
              "threats": []
            }
          },
          {
            "position": {
              "x": 1204,
              "y": 265
            },
            "size": {
              "width": 110,
              "height": 50
            },
            "attrs": {
              "text": {
                "text": "Registry\nBoundary"
              }
            },
            "visible": true,
            "shape": "td-text-block",
            "zIndex": 23,
            "id": "8861b04c-6141-4c4f-a177-bb9fd46bdb58",
            "data": {
              "type": "tm.Text",
              "name": "Registry\nBoundary",
              "hasOpenThreats": false
            }
          },
          {
            "position": {
              "x": 874.9999999999986,
              "y": -110
            },
            "size": {
              "width": 60,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Manage"
              },
              "body": {
                "stroke": "#333333",
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "process",
            "zIndex": 24,
            "id": "c60c3ffe-8cc0-4734-96e1-10a97882d7b3",
            "data": {
              "type": "tm.Process",
              "name": "Manage",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "handlesCardPayment": false,
              "handlesGoodsOrServices": false,
              "isWebApplication": false,
              "privilegeLevel": "",
              "threats": []
            }
          },
          {
            "position": {
              "x": 849,
              "y": -233
            },
            "size": {
              "width": 112.5,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Administrator"
              },
              "body": {
                "stroke": "red",
                "strokeWidth": 2.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "actor",
            "zIndex": 25,
            "id": "b7a69e8c-a05a-4839-8eaf-617a2bc816d9",
            "data": {
              "type": "tm.Actor",
              "name": "Administrator",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": true,
              "providesAuthentication": false,
              "threats": [
                {
                  "id": "0090f8cf-855b-4173-a012-5c13daa6305e",
                  "title": "A nation-state attacker proceeds to get one of their operatives employed with the company",
                  "status": "Open",
                  "severity": "Medium",
                  "type": "Spoofing",
                  "description": "A nation-state attacker proceeds to get one of their operatives employed with the company. After performing reconnaissance on the corporate network, they determine that the version control system has been operating with unpatched vulnerabilities. The attacker proceeds to compromise the version control server and implant malware which backdoors the company code releases",
                  "mitigation": "Ensure corporate patch management policy exists that outlines SLA’s for patching of systems\nAutomate vulnerability scanning of systems and software to identify unpatched vulnerabilities\nEnsure the company performs background checks on all new employees\nEnsure the principal of least privilege is followed and employees who don’t need access to systems are not provided access to systems\nEnsure the network is segregated so employees only have network access to the systems that are applicable to their job function\nEnable and use threat detection such as GuardDuty to detect anomolies in patterns of service operation\nEnsure version control system is only available on the corporate VPN\nEnsure security groups / firewalls are configured to only allow necessary network access\nEnsure company hardening standards exist which outline procedures for hardening systems\nEnsure the version control system is hardened in alignment with corporate standards including things such as:\nRemoving all un-necessary services\nDisabling root login\nDisabling password login\nUsing a “golden image”\nUsing minimal containers if running a containerized environment\nEtc.\nImplement a SIEM and forward events, syslog, etc.",
                  "modelType": "STRIDE",
                  "new": false,
                  "number": 5,
                  "score": ""
                }
              ]
            }
          },
          {
            "position": {
              "x": 724,
              "y": 515.0000000000023
            },
            "size": {
              "width": 90,
              "height": 100
            },
            "attrs": {
              "text": {
                "text": "Sonarqube\ncode\nAnalysis"
              },
              "body": {
                "stroke": "#333333",
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "process",
            "zIndex": 26,
            "id": "25b205c9-504e-4917-a144-8e36bec24142",
            "data": {
              "type": "tm.Process",
              "name": "Sonarqube\ncode\nAnalysis",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "handlesCardPayment": false,
              "handlesGoodsOrServices": false,
              "isWebApplication": false,
              "privilegeLevel": "",
              "threats": []
            }
          },
          {
            "position": {
              "x": 864,
              "y": 535
            },
            "size": {
              "width": 120,
              "height": 60
            },
            "attrs": {
              "text": {
                "text": "Sonarqube\nDatabase"
              },
              "topLine": {
                "strokeWidth": 1.5,
                "strokeDasharray": null
              },
              "bottomLine": {
                "strokeWidth": 1.5,
                "strokeDasharray": null
              }
            },
            "visible": true,
            "shape": "store",
            "zIndex": 27,
            "id": "0bc1ddac-ac53-4989-a205-7eeac3ad8585",
            "data": {
              "type": "tm.Store",
              "name": "Sonarqube\nDatabase",
              "description": "",
              "outOfScope": false,
              "reasonOutOfScope": "",
              "hasOpenThreats": false,
              "isALog": false,
              "isEncrypted": false,
              "isSigned": false,
              "storesCredentials": false,
              "storesInventory": false,
              "threats": []
            }
          }
        ],
        "description": "CI Pipeline for DevSecOps lab"
      }
    ],
    "diagramTop": 1,
    "reviewer": "",
    "threatTop": 7
  }
}